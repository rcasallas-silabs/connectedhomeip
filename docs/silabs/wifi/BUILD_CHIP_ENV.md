# Build Environment using Linux

This section will go through the steps required to build the demo using Linux.

> **Do not execute any commands on this page as ROOT (no _su_ required), unless
> specified**

<br>

## Prepare Linux Packages

Update the latest packages by typing following commands in terminal:

> `$ sudo apt update`

> `$ sudo apt install`

<br>

## Prerequisites for CHIP project on Linux

### 1. Installing packages on Ubuntu Laptop/PC

-   Open the Linux terminal from Start menu
-   Install required packages on Ubuntu Laptop/PC using the following commands:

    > `$ sudo apt-get install git gcc g++ pkg-config libssl-dev libdbus-1-dev \
     libglib2.0-dev libavahi-client-dev ninja-build python3-venv python3-dev \
     python3-pip unzip libgirepository1.0-dev libcairo2-dev libreadline-dev` <br>


<br>

### 2. Matter codebase

-   Check out Matter codebase from GitHub:

    -   Create a working directory - we will name it `matter` as part of this
        example:

        > `$ mkdir matter`

        > `$ cd matter`

        > `$ MATTER_WORKDIR=pwd`

            --> We will use $MATTER_WORKDIR later

    -   Download the
        [Matter codebase](https://github.com/project-chip/connectedhomeip.git)
        from here as follows:
        > `$ git clone https://github.com/project-chip/connectedhomeip.git`

-   Sync submodules by running the following commands:

    > `$ cd connectedhomeip`

    > `$ git submodule update --init --recursive`

-   Environment Builds

    -   Activate environment builds:
        > `$ . scripts/bootstrap.sh`
    -   Create a directory where binaries will be updated:
        > `$ mkdir out`

-   **[Optional:** Increasing stack size **]** <br> &emsp; Navigate to
    `matter/connectedhomeip` and open the file in the path
    `examples/lighting-app/efr32/include/FreeRTOSConfig.h`. Find the macro:
    \``configMINIMAL_STACK_SIZE`\`, and change the macro value from `140` to
    **`320`**.

<br>

### 3. Compiling the Lighting-app

The following commands are for building the example. Depending on which device
you are using, select the appropriate build command to run.

Build command for RS911x:
`$ ./scripts/examples/gn_efr32_example.sh examples/lighting-app/efr32/ out/rs911x_lighting BRD4161A --wifi rs911x |& tee out/rs911x_lighting.out`

Build command for WF200:
`$ ./scripts/examples/gn_efr32_example.sh examples/lighting-app/efr32/ out/wf200_lighting BRD4161A is_debug=false --wifi wf200 |& tee out/rs911x_lighting.out`

Run the following:

> `$ cd connectedhomeip`

> `$ <appropriate_build_command_from_above>`

<br>

> Look for build problems in `out/*.out`, which is the log file that was
> generated by the above command

The generated software can be found in `out/rs911x_xxx/BRD4161A/*.out`.

This is what you will burn into the EFR32.

<br>

## Compiling ChipTool

-   Build the ChipTool on a laptop which has Wi-Fi and Bluetooth LE
-   Run the following commands:

    > `$ cd $MATTER_WORKDIR/connectedhomeip` <br>

    > `$ ./scripts/examples/gn_build_example.sh examples/chip-tool out/standalone`

    This will build chiptool in `out/standalone`

Now you have all the binaries to flash onto the MG12 platform.

----
[Table of Contents](../README.md) | [Thread Demo](../thread/DEMO_OVERVIEW.md) | [Wi-Fi Demo](./DEMO_OVERVIEW.md)